import{T as v,q as g,r as _,o as h,c as U,a as b,b as s,e as n,v as x,x as E,u as l,t as m,F as S,O as T}from"./app-bfa3a5af.js";const B={class:"container mt-5 position-relative"},V=s("h1",null,"Teste de email",-1),w=s("br",null,null,-1),y={class:"mb-3"},C=s("label",{for:"emailUser",class:"form-label"},"Email address",-1),A={__name:"email",props:{resposta:String,status:String},setup(r){const a=r,t=v({emailUser:""}),o=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",Swal.stopTimer),e.addEventListener("mouseleave",Swal.resumeTimer)}}),c=g(()=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t.emailUser)&&t.emailUser!==""),u=()=>{c.value?d():o.fire({icon:"info",title:"Deve ser um email válido!"})},d=async()=>{try{T.post(route("sendEmail"),t,{onBefore:e=>{},onStart:e=>{},onProgress:e=>{},onSuccess:e=>{o.fire({icon:a.status,title:a.resposta})},onError:e=>{o.fire({icon:a.status,title:a.resposta})},onCancel:()=>{},onFinish:e=>{}})}catch{o.fire({icon:"error",title:"Atualize a página, ocorreu algum erro!"})}};return(e,i)=>{const p=_("appHead");return h(),U(S,null,[b(p,{title:"teste"}),s("div",B,[V,n(),w,s("form",null,[s("div",y,[C,x(s("input",{type:"email",name:"emailUser",class:"form-control",id:"emailUser","onUpdate:modelValue":i[0]||(i[0]=f=>l(t).emailUser=f),placeholder:"name@example.com emailUser"},null,512),[[E,l(t).emailUser]]),n(" "+m(r.resposta)+" "+m(r.status),1)]),s("button",{onClick:u,type:"button",class:"btn btn-success"},"enviar")])])],64)}}};export{A as default};
